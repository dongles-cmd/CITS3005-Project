{% extends 'base.html' %}

{% block content %}
<section class="search-results-section">
    <div class="container">
        <h1>Search Results for "{{ query }}"</h1>

        {% if results %}
            <ul class="search-results">
                {% for result in results %}
                    <li class="result-item">
                        <a href="/procedure/{{ result[1] | replace('http://test.org/ifixit.com#', '') }}">
                            <div class="result-content">
                                <img src="{{ result[2] }}" alt="{{ result[0] }}" class="result-image">
                                <span class="result-name">{{ result[0] }}</span>
                            </div>
                        </a>
                    </li>
                {% endfor %}
            </ul>

            <div class="pagination">
                {% if page > 1 %}
                    <a href="?q={{ query }}&page={{ page - 1 }}" class="pagination-previous">Previous</a>
                {% endif %}
                {% if has_more %}
                    <a href="?q={{ query }}&page={{ page + 1 }}" class="pagination-next">Next</a>
                {% endif %}
            </div>

        {% else %}
            <p>No results found for "{{ query }}". Please try another search term.</p>
        {% endif %}
    </div>
</section>
{% endblock %}
